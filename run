#!/bin/bash

# Enhanced run script that works with deployment command "sh -c run"
# This script detects if it's being run from deployment and handles accordingly

# Check if we're in the project directory
if [ ! -f "pom.xml" ]; then
    # We might be running from deployment, try to find the project directory
    if [ -f "/home/runner/workspace/pom.xml" ]; then
        cd "/home/runner/workspace"
    else
        echo "ERROR: Cannot find project directory with pom.xml"
        exit 1
    fi
fi

# Now execute the enhanced start.sh script
exec ./start.sh "$@"